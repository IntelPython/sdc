# reference: https://github.com/numba/numba/blob/master/.travis.yml

dist: trusty

matrix:
    include:
        - os: osx
          env: CONDA_ENV=travisci HPAT_CONFIG_MPI=False PYTHON_VER=3.7
        - os: osx
          env: CONDA_ENV=travisci HPAT_NUM_PES=1 PYTHON_VER=3.7
        - os: osx
          env: CONDA_ENV=travisci HPAT_NUM_PES=2 PYTHON_VER=3.7
        - os: osx
          env: CONDA_ENV=travisci HPAT_NUM_PES=3 PYTHON_VER=3.7 
        - env: CONDA_ENV=travisci HPAT_CONFIG_MPI=False PYTHON_VER=3.7 HPAT_RUN_COVERAGE=True
        - env: CONDA_ENV=travisci HPAT_NUM_PES=1 PYTHON_VER=3.7
        - env: CONDA_ENV=travisci HPAT_NUM_PES=2 PYTHON_VER=3.7
        - env: CONDA_ENV=travisci HPAT_NUM_PES=3 PYTHON_VER=3.7

before_install:
    - buildscripts/setup_conda.sh
    - export PATH=$HOME/miniconda3/bin:$PATH
install:
    - buildscripts/build.sh

after_success:
    - buildscripts/after_success.sh

notifications:
    email: false
