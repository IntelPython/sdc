jobs:
- template: buildscripts/azure/template-windows.yml
  parameters:
    name: Windows
    vmImage: vs2017-win2016
    matrix:
      win-2016_vs2017_py3.7_numpy1.16_np0:
        PYTHON_VER: '3.7'
        NUMPY_VER: '1.16'
        CONDA_PREFIX_PATH: '%UserProfile%\Miniconda3'

      win-2016_vs2017_py3.7_numpy1.16_np2:
        SDC_NP_MPI: '2'
        PYTHON_VER: '3.7'
        NUMPY_VER: '1.16'
        CONDA_PREFIX_PATH: '%UserProfile%\Miniconda3'

- template: buildscripts/azure/template-linux-macos.yml
  parameters:
    name: macOS
    vmImage: xcode9-macos10.13
    matrix:
      OSX-10.13_xcode9_py3.7_numoy1.16_np0:
        PYTHON_VER: '3.7'
        NUMPY_VER: '1.16'
        CONDA_PREFIX_PATH: '$HOME/miniconda'

      OSX-10.13_xcode9_py3.7_numoy1.16_np2:
        SDC_NP_MPI: '2'
        PYTHON_VER: '3.7'
        NUMPY_VER: '1.16'
        CONDA_PREFIX_PATH: '$HOME/miniconda'

- template: buildscripts/azure/template-linux-macos.yml
  parameters:
    name: Linux
    vmImage: ubuntu-16.04
    matrix:
      ubuntu-16.04_py3.7_numpy1.16_np3:
        SDC_NP_MPI: '3'
        PYTHON_VER: '3.7'
        NUMPY_VER: '1.16'
        CONDA_PREFIX_PATH: '$HOME/miniconda'
